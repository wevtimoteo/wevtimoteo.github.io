
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Mais de 10 coisas para fazer antes de solicitar revisÃ£o do seu Pull Request - wevtimoteo</title>

    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
  </head>
  <body>
    <div id="wrapper">
      <header id="top">
        <h1><a href="/">wevtimoteo</a></h1>
        <p>kairos _ sharing _ tech _ learning _ kaizen _ path</p>
      </header>

      <nav>
        
<ul>
  <li><a href="/posts">Posts</a></li>
  <li><a href="/about.html">About</a></li>
</ul>

      </nav>

      <hr />

      <main><h1 id="mais-de-10-coisas-para-fazer-antes-de-solicitar-revisÃ£o-do-seu-pull-request">Mais de 10 coisas para fazer antes de solicitar revisÃ£o do seu Pull Request</h1><p>Posted on Wednesday, 22 Jun 2022 by Weverton Timoteo</p><p>Tags:</p><ul><li><a href="/tags/code-review">code-review</a></li></ul><p><em>Publicado originalmente em inglÃªs no blog da <a href="https://sourcelevel.io/blog/10-items-to-check-before-assigning-a-pull-request-to-someone-plus-a-bonus">SourceLevel.io</a>.</em></p><p>Se vocÃª estÃ¡ trabalhando em um time, abrir um Pull/Merge Request Ã© muito comum. No entanto, vocÃª jÃ¡ pensou em abrir um Pull/Merge Request quando estÃ¡ trabalhando sozinho?</p><p>Isso pode parecer sem sentido, mas eu acho que Ã© uma excelente prÃ¡tica! VocÃª pode se beneficiar de diversas formas ao revisar seu prÃ³prio Pull/Merge Request.</p><p>Ã‰ sempre bom contar com os colegas para revisar seu cÃ³digo e encontrar trechos que passaram batido por vocÃª ou seu pair, alÃ©m de compartilhar conhecimento com vocÃª. NÃ£o importa se vocÃª trabalha sozinho ou com um time, eu recomendo seguir esse checklist:</p><h3 id="1.-utilize-o-branch-alvo-correto">1. Utilize o branch alvo correto</h3><p>Vamos comeÃ§ar pelo mais fÃ¡cil e rÃ¡pido: verifique se o branch alvo que seu PR vai ser mergeado, estÃ¡ correto.</p><p>Se vocÃª sempre se perde na hora de abrir o PR pela interface web no GitHub, eu recomendo dar uma olhada no <a href="https://github.com/cli/cli">GitHub CLI</a>Â ou noÂ <a href="https://github.com/github/hub">Hub</a>.
Ambos permitem vocÃª abrir o PR direto no seu terminal, especificando o branch base (que serÃ¡ o seu alvo):</p><pre><code class="bash">$ hub pull-request -b meu-branch-alvo</code></pre><p>Esse comando vai abrir o editor definido na variÃ¡vel ambiente <code class="inline">$EDITOR</code>, vocÃª sÃ³ precisarÃ¡ definir o tÃ­tulo do PR e a descriÃ§Ã£o.</p><p>Ou se preferir, utilizando <a href="https://github.com/cli/cli">a ferramenta mais recente do GitHub (GitHub CLI <code class="inline">gh</code>)</a>:</p><pre><code class="bash">$ gh pr create -b meu-branch-alvo</code></pre><p>Esse comando vai te perguntar direto no terminal quais sÃ£o os metadados do PR.</p><h3 id="2.-mostre-seu-rascunho">2. Mostre seu rascunho</h3><p>Eu jÃ¡ vi diversas pessoas desenvolvedoras abrindo PRs apenas quando o trabalho estÃ¡ quase pronto (ou atÃ© sÃ³ quando estÃ¡ pronto). Eu recomendo <a href="https://docs.github.com/pt/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests#draft-pull-requests">abrir os PRs em <code class="inline">Draft</code></a>Â logo depois de fazer o primeiro commit. Isso permite acompanhar seu progresso e alimentar ferramentas de mÃ©tricas de cÃ³digo (como a <a href="https://sourcelevel.io">SourceLevel</a>), alÃ©m de obter feedback do seu time antes da sua soluÃ§Ã£o estar pronta.</p><p>Quando for escrever uma descriÃ§Ã£o, faÃ§a uma pequena checklist para deixar explÃ­cito o quanto vocÃª avanÃ§ou naquela soluÃ§Ã£o. Eu gosto bastante dessa ideia porque ela deixa muito mais claro o que vocÃª precisa fazer como prÃ³ximo passo e seus colegas tambÃ©m podem te apoiar caso jÃ¡ tenham feito algo parecido em um passo que esteja pendente.</p><p>VocÃª tambÃ©m pode utilizar o <code class="inline">hub</code> para abrir PRs direto em Draft com a opÃ§Ã£o <code class="inline">-d</code>:</p><pre><code class="bash">$ hub pull-request -b meu-branch-alvo -d</code></pre><p>E no <code class="inline">gh</code>:</p><pre><code class="bash">$ gh pr create -b meu-branch-alvo -d</code></pre><h3 id="3.-vamos-falar-de-cÃ³digo!">3. Vamos falar de cÃ³digo!</h3><p>Vamos assumir que vocÃª abriu um PR em rascunho, mas e o cÃ³digo? O que vocÃª deve revisar antes de pedir para o seu time revisar?</p><p>Eu recomendo comeÃ§ar com os mais fÃ¡ceis sempre:</p><ul><li>Erros de digitaÃ§Ã£o
</li><li>NotaÃ§Ãµes <code class="inline">TODO</code> ou <code class="inline">NOTE</code></li><li>ComentÃ¡rios no cÃ³digo
</li><li>Chamadas <code class="inline">print</code>/<code class="inline">puts</code></li><li>Linhas duplas em branco
</li><li>EspaÃ§os em branco no final de linhas ou de arquivos
</li></ul><p>VocÃª pode configurar seu editor para evitar esse Ãºltimo item, procure por <a href="https://letmegooglethat.com/?q=remove+trailing+spaces+in+vim"><code class="inline">remove trailing spaces in &lt;seu editor favorito&gt;</code></a>. <strong>Acredite em mim:</strong> isso economiza muito tempo ao salvar um arquivo e jÃ¡ remover esses espaÃ§os automaticamente.</p><h3 id="4.-dÃª-nomes-apropriados">4. DÃª nomes apropriados</h3><p>Algumas pessoas desenvolvedoras investem muito tempo nomeando mÃ³dulos, classes, variÃ¡veis e assim por diante. Normalmente, eu comeÃ§o com um nome que parece bom e no final do ciclo de desenvolvimento eu o reviso, sempre aparecem melhores opÃ§Ãµes. EntÃ£o nÃ£o se esqueÃ§a de revisitar seu cÃ³digo e nomeÃ¡-los devidamente.</p><p>Quando nomear as coisas, imagine que vocÃª Ã© a â€œcoisaâ€ e se o nome que vocÃª escolheu corresponde com a semÃ¢ntica do que vocÃª estÃ¡ fazendo.</p><h3 id="5.-peÃ§a-ajuda-de-ferramentas">5. PeÃ§a ajuda de ferramentas</h3><p>Seus colegas de trabalho nÃ£o estÃ£o disponÃ­veis o tempo todo para vocÃª ou atÃ© se vocÃª trabalha sozinho, vocÃª deveria se beneficiar de <strong>Linters</strong>! Eles podem ser muito mais Ãºteis que vocÃª imagina!</p><p>Linters sÃ£o ferramentas que analisam seu cÃ³digo para identificar erros, warnings, convenÃ§Ãµes de estilo e questÃµes de complexidade de cÃ³digo. Por exemplo, no <a href="https://www.ruby-lang.org/">Ruby</a>, existe oÂ <a href="https://github.com/rubocop-hq/rubocop">Rubocop</a>; noÂ <a href="https://elixir-lang.org/">Elixir</a>, existe oÂ <a href="https://github.com/rrrene/credo">Credo</a>.</p><p>Usar linters Ã© uma forma excelente de <a href="https://sourcelevel.io/blog/6-practices-to-use-linters-to-reduce-and-prevent-technical-debt">reduzir e prevenir o dÃ©bito tÃ©cnico na sua base de cÃ³digo</a>. Comece com algumas regras e vÃ¡ adicionando conforme sentir necessidade no arquivo de configuraÃ§Ã£o do linter.</p><p>No entanto, sempre lembre de discutir essas regras com seu time antes de se comprometer com elas. Evite falar sobre regras de linters em um Pull Request (a nÃ£o ser que seja um PR dedicado a isso). <strong>Mova essa discussÃ£o</strong> para um lugar (como as issues) onde vocÃª possa coletar feedback de mais membros do time e garantir que todos estÃ£o na mesma pÃ¡gina e estÃ£o de acordo com aquela regra.</p><h3 id="6.-remova-o-ruÃ­do">6. Remova o ruÃ­do</h3><p>Quando estamos desenvolvendo, Ã© comum encontrar algum cÃ³digo para refatorar, fazer aquele trabalho de jardinagem, utilizar o estilo de codificaÃ§Ã£o da base de cÃ³digo, ou remover aquele parÃªnteses desnecessÃ¡rio. Para esses casos, eu recomendo evitar fazer essa mudanÃ§a se estiver fora do contexto do que vocÃª estÃ¡ modificando.</p><p>Eu sei que muitas vezes Ã© difÃ­cil de evitar corrigir ou ajustar (jÃ¡ que aquele cÃ³digo estÃ¡ logo ali), mas tenha em mente que vocÃª sempre pode abrir um Pull Request separado para essas mudanÃ§as. E nele, explicar as razÃµes e prover informaÃ§Ãµes adicionais porque aquela mudanÃ§a Ã© necessÃ¡ria.</p><p>Por que fazer isso? Porque ao adicionar cÃ³digo nÃ£o-relacionado vai aumentar a complexidade para a pessoa revisora. Mais informaÃ§Ãµes fazem com que o processo seja mais detalhado e <strong>menos cÃ³digo nÃ£o-relacionado</strong> faz com que o processo de revisÃ£o seja mais preciso e mais focado no contexto exigido.</p><p>Se vocÃª encontrar alguma modificaÃ§Ã£o que fez durante o desenvolvimento e nÃ£o queria descartar na hora de commitar, vocÃª deveria dar uma olhada no comando <a href="https://git-scm.com/docs/git-stash"><code class="inline">git stash</code></a>.</p><h3 id="7.-traga-apenas-o-necessÃ¡rio-do-banco-de-dados">7. Traga apenas o necessÃ¡rio do banco de dados</h3><p>Se suas mudanÃ§as envolvem trazer dados do banco de dados, vocÃª deveria especificar apenas as colunas que vocÃª precisa. Pode ser caro sempre trazer dados que sÃ£o irrelevantes para o seu uso do banco de dados. Tenha em mente que isso vai obrigar utilizar mais recursos na linguagem de programaÃ§Ã£o utilizada tambÃ©m, como maior retenÃ§Ã£o de objetos/estruturas de dados, aumentando o consumo de memÃ³ria da aplicaÃ§Ã£o.</p><h3 id="8.-entenda-â€œmergeabilidadeâ€">8. Entenda â€œMergeabilidadeâ€</h3><p>Alguns PRs sÃ£o mais fÃ¡ceis de mergear (integrar ao branch alvo) que os outros. Como definir se um PR Ã© aceitÃ¡vel para ser mergeado?</p><p>VÃ¡rios times obrigam que os Pull Requests passem um conjuntos de verificaÃ§Ãµes para saber se eles estÃ£o elegÃ­veis para serem mergeados. Isso Ã© interessante para aumentar a confiabilidade da mudanÃ§a que estÃ¡ sendo integrada e que nÃ£o vai quebrar no branch alvo.</p><p>As verificaÃ§Ãµes normalmente incluem:</p><ul><li>Branches protegidos
</li><li>Obrigar revisÃ£o de cÃ³digo
</li><li>Assinatura de commits via chaves GPG
</li><li>HistÃ³rico linear de alteraÃ§Ãµes
</li><li>Incluir status checks especÃ­ficos, como build de testes
</li></ul><p>O Ãºltimo item poderia ser obrigatÃ³rio: o commit status checks indicam se a ferramenta integrada (como o GitHub Actions ou alguma revisÃ£o de cÃ³digo automatizada) passou a cada push . VocÃª pode <a href="https://docs.github.com/pt/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/managing-a-branch-protection-rule">configurar seu repositÃ³rio para obrigar cada um deles</a>. Assim apenas push â€œverdesâ€ estÃ£o bons para serem integrados no branch alvo!</p><h2 id="terminou?">Terminou?</h2><p>Bom trabalho se vocÃª chegou atÃ© aqui no seu checklist e seguiu todas as instruÃ§Ãµes. Agora Ã© hora dos Ãºltimos e nÃ£o menos importantes: melhorias nos metadados do Pull Request.</p><h3 id="9.-passe-a-mensagem-correta">9. Passe a mensagem correta</h3><p>Tudo que Ã© essencial deve ir para descriÃ§Ã£o do seu PR. Pense que essa descriÃ§Ã£o deve guiar os revisores sobre o contexto das mudanÃ§as, dÃª o seu melhor para explicar porquÃª elas estÃ£o lÃ¡.</p><p>VocÃª deve verificar todos os itens se vocÃª abriu seu PR como <code class="inline">Draft</code>. Considere atÃ© <a href="https://docs.github.com/pt/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository">transformar em um modelo para futuros Pull Requests</a>. Se vocÃª precisa de um modelo bem simples, recomendo utilizar o da <a href="https://github.com/sourcelevel/guidelines/blob/main/.github/pull_request_template.md">SourceLevel</a>.</p><p>Algumas outras coisas interessantes que vocÃª pode incluir na descriÃ§Ã£o do PR:</p><ul><li>InstruÃ§Ãµes sobre â€œComo testarâ€ aquelas mudanÃ§as
</li><li>O que nÃ£o Ã© parte daquele PR (qualquer coisa nÃ£o relacionada com o trabalho que vocÃª gostaria que todos soubessem)
</li><li>O que pode ser melhorado no futuro (considere atÃ© criar uma issue e referenciÃ¡-la no seu PR)
</li><li>DocumentaÃ§Ãµes e referÃªncias (lembre-se que PR tambÃ©m Ã© documentaÃ§Ã£o e pode ser muito Ãºtil para vocÃª e seu time no futuro)
</li><li>Lista de referÃªncias para issues existentes ou outros PRs (caso vocÃª queira enriquecer ainda mais o contexto e deixar a base de PRs e issues cada vez mais rica com informaÃ§Ãµes)
</li><li><a href="https://docs.github.com/pt/get-started/writing-on-github/working-with-advanced-formatting/creating-a-permanent-link-to-a-code-snippet">Snippets de cÃ³digo de outros branches</a></li></ul><h3 id="10.-adicione-screenshots">10. Adicione screenshots</h3><p>Screenshots sÃ£o Ã³timas para mostrar como aquela mudanÃ§a afeta o visual de uma pÃ¡gina ou componente. Se vocÃª possui mais de uma screenshot, considere utilizar uma seÃ§Ã£o com a tag <code class="inline">&lt;details&gt;</code>:</p><pre><code class="ruby">&lt;details&gt;
&lt;summary&gt;Screenshot oculta&lt;/summary&gt;

![alt text](https://example.com/image.png)
&lt;/details&gt;</code></pre><p>Isso vai fazer com que a imagem fique escondida dessa maneira:</p><img src="/media/images/pull-request-screenshot.png" alt="Exemplo de imagem dentro da tag details"/><p>Sinta-se Ã  vontade para usar a tag <code class="inline">&lt;details&gt;</code> para um GIF ou um vÃ­deo.</p><h3 id="11.-encontre-seu-pr-no-futuro">11. Encontre seu PR no futuro</h3><p>Pessoas tendem a esquecer que elas podem consultar o histÃ³rico de PRs para tirar dÃºvidas sobre como aquela funcionalidade ou bugfix foi construÃ­da e porquÃª. Se vocÃª nunca olha um PR antigo em uma hora dessas, <strong>talvez vocÃª esteja perdendo informaÃ§Ãµes Ãºteis</strong>.</p><p>JÃ¡ teve algum problema encontrando um PR especÃ­fico? EntÃ£o utilize <code class="inline">labels</code> melhores para classificÃ¡-los. Precisa de sugestÃ£o de algumas? Tente essas:</p><ul><li>dependency
</li><li>documentation
</li><li>expedite
</li><li>feature
</li><li>good first patch
</li><li>ready for test, in test, test done
</li><li>security
</li><li>tech debt
</li><li>unplanned
</li></ul><p>Use sua criatividade para identificar labels atrativas que podem ajudar vocÃª e seu time encontrar issues e PRs com elas.</p><h3 id="12.-utilize-comentÃ¡rios-inline-nas-suas-prÃ³prias-mudanÃ§as">12. Utilize comentÃ¡rios inline nas suas prÃ³prias mudanÃ§as</h3><p>Comente na linha ou trecho de cÃ³digo qualquer fato interessante que vocÃª sinta necessidade de compartilhar. Por exemplo, vocÃª pode mencionar sobre aquele mÃ©todo da API da linguagem de programaÃ§Ã£o que vocÃª acabou de descobrir, isso pode fazer vÃ¡rias discussÃµes interessantes surgirem, talvez atÃ© sugestÃµes melhores.</p><h2 id="Ã©-isso-aÃ­!">Ã‰ isso aÃ­!</h2><p>ParabÃ©ns ğŸ‰! Fez alguma mudanÃ§a no PR desde que vocÃª tinha considerado ele como â€œProntoâ€ depois desse checklist?</p><p>Agora Ã© hora de fazer um <strong>rebase</strong> e garantir que estÃ¡ tudo atualizado e entÃ£o, finalmente, <strong>pronto para pedir revisÃ£o do seu time</strong>!</p><p>Obrigado pela leitura ;)</p><p>VocÃª aprendeu algo novo revisando o seu prÃ³prio cÃ³digo? <a href="https://www.twitter.com/wevtimoteo">Compartilhe comigo</a>!</p></main>

      <hr />

      <footer>
        
<a href="https://dev.to/wevtimoteo" target="_blank" style="float: right">
  <img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg" alt="Weverton Timoteo's DEV Profile" height="30" width="30">
</a>

<a href="https://github.com/wevtimoteo/wevtimoteo.github.io" target="_blank" style="float: right;margin-right: 10px">
  <?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><svg enable-background="new 0 0 30 30" height="30px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="30px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path clip-rule="evenodd" d="M296.133,354.174c49.885-5.891,102.942-24.029,102.942-110.192   c0-24.49-8.624-44.448-22.67-59.869c2.266-5.89,9.515-28.114-2.734-58.947c0,0-18.139-5.898-60.759,22.669   c-18.139-4.983-38.09-8.163-56.682-8.163c-19.053,0-39.011,3.18-56.697,8.163c-43.082-28.567-61.22-22.669-61.22-22.669   c-12.241,30.833-4.983,53.057-2.718,58.947c-14.061,15.42-22.677,35.379-22.677,59.869c0,86.163,53.057,104.301,102.942,110.192   c-6.344,5.452-12.241,15.873-14.507,30.387c-12.702,5.438-45.808,15.873-65.758-18.592c0,0-11.795-21.31-34.012-22.669   c0,0-22.224-0.453-1.813,13.592c0,0,14.96,6.812,24.943,32.653c0,0,13.6,43.089,76.179,29.48v38.543   c0,5.906-4.53,12.702-15.865,10.89C96.139,438.977,32.2,354.626,32.2,255.77c0-123.807,100.216-224.022,224.03-224.022   c123.347,0,224.023,100.216,223.57,224.022c0,98.856-63.946,182.754-152.828,212.688c-11.342,2.266-15.873-4.53-15.873-10.89   V395.45C311.1,374.577,304.288,360.985,296.133,354.174L296.133,354.174z M512,256.23C512,114.73,397.263,0,256.23,0   C114.73,0,0,114.73,0,256.23C0,397.263,114.73,512,256.23,512C397.263,512,512,397.263,512,256.23L512,256.23z" fill="#0D2636" fill-rule="evenodd"/></g></svg>
</a>

<p>
  Powered by <a href="https://github.com/Dalgona/Serum">Serum</a> v1.5.1,
  with <a href="https://github.com/Dalgona/serum-theme-essence">Essence</a> theme
</p>

      </footer>
    </div>

    <script src="/assets/js/prism.js"></script>
  </body>
</html>
<script>
const ws_url = "ws://" + location.host + "/serum_live_reloader";
var ws;

connect();

function connect() {
  ws = new WebSocket(ws_url);
  ws.onmessage = onMessage;
  ws.onclose = onClose;
}

function onMessage(e) {
  if (e.data === "reload") {
    location.reload();
  }
}

function onClose(e) {
  console.warn("WebSocket disconnected from server. Reconnecting in 10 seconds.");
  setTimeout(connect, 10000)
}
</script>
